* stipe

[[https://b.agaric.net/pub/img/agaric-64.png]]

*** about

Custom blog engine written in rust, using
[[https://actix.rs/][actix]],
[[https://github.com/rust-ammonia/ammonia][ammonia]],
[[https://github.com/djc/askama][askama]],
[[https://crates.io/crates/chrono][chrono]],
[[https://crates.io/crates/rand][rand]], and
[[https://crates.io/crates/regex][regex]].

The engine was originally written in clojure (see [[https://github.com/blobject/stipe/tree/clojure]["clojure" branch]]) but that had to be abandoned due to memory limitations in deployment.

*** use

- Place all markdown files (eg. your individual blog posts) into a folder situated at =db/=. The filenames should end in =.md= and the file contents can include metadata in the format:

    #+BEGIN_SRC
    key0: value0
    key1: value10, value11, ...
    :::
    Lorem ipsum ...
    #+END_SRC

  - the =time= key takes the page creation time, in seconds-since-unix-epoch
  - the =tag= key takes a comma-separated list of strings, representing the thematic tags associated with the blog post
  - the =script= key takes a comma-separated list of filenames relative to ~pub/js/~
  - for details on the markdown specification, see [[https://github.com/raphlinus/pulldown-cmark][pulldown-cmark]] and [[https://spec.commonmark.org/][commonmark]]

- example, /db\slash{}neuromancer.md:/

    #+BEGIN_SRC markdown
    title: Neuromancer (William Gibson)
    time: 457488001
    tag: Science Fiction, Cyberpunk
    script: wintermute.min.js
    :::
    # Part 1, Chiba City Blues
    
    ## 1
    
    The sky above the port was the color of ...
    #+END_SRC

- Execute the server with ~cargo run --release~.

- Visit at =http://localhost:8000=
